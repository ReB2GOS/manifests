<?xml version="1.0" encoding="UTF-8"?>
<manifest>

  <!-- KaiOS -->
  <include name="kaios.xml"/>

  <!-- AOSP -->
  <include name="aosp.xml"/>
  <include name="aosp_env_liunx.xml"/>
  <remote fetch="https://android.googlesource.com" name="aosp" />
  <remote fetch="https://aosp.tuna.tsinghua.edu.cn/" name="tuna"/>
  <remote fetch="git://mirrors.ustc.edu.cn/aosp/" name="ustc"/>
  <default revision="refs/tags/android-10.0.0_r11" remote="aosp"/>
 
  <remote  name="lemon"
           fetch="https://github.com/Pie-onyx"
           revision="aosp-10.0" />
  
  <!-- aosp mod -->
  <remove-project name="platform_build" />
  <remove-project name="platform_build_soong" />
  <remove-project name="platform_system_core" />
  
  <project path="build/make" name="build_make" groups="pdk" remote="reb2g"  revision="gonk-onyx">
    <copyfile src="core/root.mk" dest="Makefile" />
    <linkfile src="CleanSpec.mk" dest="build/CleanSpec.mk" />
    <linkfile src="buildspec.mk.default" dest="build/buildspec.mk.default" />
    <linkfile src="core" dest="build/core" />
    <linkfile src="envsetup.sh" dest="build/envsetup.sh" />
    <linkfile src="target" dest="build/target" />
    <linkfile src="tools" dest="build/tools" />
  </project>
  <project path="build/soong" name="build_soong" groups="pdk,tradefed" remote="reb2g"  revision="gonk-onyx" >
    <linkfile src="root.bp" dest="Android.bp" />
    <linkfile src="bootstrap.bash" dest="bootstrap.bash" />
  </project>
  <project path="system/core" name="system_core" groups="pdk" remote="reb2g"  revision="gonk-onyx" />

  
  <!-- found in onyx aosp-10.0 -->
  <project path="frameworks/opt/bitmap" name="platform/frameworks/opt/bitmap" groups="pdk-fs" />
  <project path="frameworks/opt/calendar" name="platform/frameworks/opt/calendar" groups="pdk-cw-fs,pdk-fs" />
  <project path="frameworks/opt/car/services" name="platform/frameworks/opt/car/services" groups="pdk-fs" />
  <project path="frameworks/opt/car/setupwizard" name="platform/frameworks/opt/car/setupwizard" groups="pdk" />
  <project path="frameworks/opt/chips" name="platform/frameworks/opt/chips" groups="pdk-cw-fs,pdk-fs" />
  <project path="frameworks/opt/colorpicker" name="platform/frameworks/opt/colorpicker" groups="pdk-cw-fs,pdk-fs" />
  <project path="frameworks/opt/datetimepicker" name="platform/frameworks/opt/datetimepicker" groups="pdk-cw-fs,pdk-fs" />
  <project path="frameworks/opt/gamesdk" name="platform/frameworks/opt/gamesdk" />
  <project path="frameworks/opt/photoviewer" name="platform/frameworks/opt/photoviewer" groups="pdk-cw-fs,pdk-fs" />
  <project path="frameworks/opt/setupwizard" name="platform/frameworks/opt/setupwizard" groups="pdk-cw-fs,pdk-fs" />
  <project path="frameworks/opt/timezonepicker" name="platform/frameworks/opt/timezonepicker" groups="pdk-cw-fs,pdk-fs" />
  <project path="frameworks/opt/vcard" name="platform/frameworks/opt/vcard" groups="pdk-cw-fs,pdk-fs" />
  <project path="hardware/broadcom/libbt" name="platform/hardware/broadcom/libbt" groups="pdk" />
  <project path="hardware/broadcom/wlan" name="platform/hardware/broadcom/wlan" groups="pdk,broadcom_wlan" />
 
  <!-- qcom staff -->
  <project path="hardware/qcom/bootctrl" name="platform/hardware/qcom/bootctrl" groups="pdk-qcom" />
  <project path="hardware/qcom/camera" name="platform/hardware/qcom/camera" groups="qcom_camera,pdk-qcom" />
  <project path="hardware/qcom/data/ipacfg-mgr" name="platform/hardware/qcom/data/ipacfg-mgr" groups="qcom,pdk-qcom" />
  <project path="hardware/qcom/gps" name="platform/hardware/qcom/gps" groups="qcom,qcom_gps,pdk-qcom" />
  <project path="hardware/qcom/keymaster" name="platform/hardware/qcom/keymaster" groups="qcom,qcom_keymaster,pdk-qcom" />
  <project path="hardware/qcom/msm8960" name="platform/hardware/qcom/msm8960" groups="qcom_msm8960,pdk-qcom" />
  <project path="hardware/qcom/msm8994" name="platform/hardware/qcom/msm8994" groups="qcom_msm8994,pdk-qcom" />
  <project path="hardware/qcom/msm8996" name="platform/hardware/qcom/msm8996" groups="qcom_msm8996,pdk-qcom" />
  <project path="hardware/qcom/msm8998" name="platform/hardware/qcom/msm8998" groups="qcom_msm8998,pdk-qcom" />
  <project path="hardware/qcom/msm8x09" name="platform/hardware/qcom/msm8x09" groups="qcom_msm8x09" />
  <project path="hardware/qcom/msm8x26" name="platform/hardware/qcom/msm8x26" groups="qcom_msm8x26,pdk-qcom" />
  <project path="hardware/qcom/msm8x27" name="platform/hardware/qcom/msm8x27" groups="qcom_msm8x27,pdk-qcom" />
  <project path="hardware/qcom/msm8x84" name="platform/hardware/qcom/msm8x84" groups="qcom_msm8x84,pdk-qcom" />
  <project path="hardware/qcom/neuralnetworks/hvxservice" name="platform/hardware/qcom/neuralnetworks/hvxservice" groups="wahoo" />
  <project path="hardware/qcom/power" name="platform/hardware/qcom/power" groups="qcom,pdk-qcom" />
  <project path="hardware/qcom/sdm845/bt" name="platform/hardware/qcom/sdm845/bt" groups="qcom_sdm845" />
  <project path="hardware/qcom/sdm845/data/ipacfg-mgr" name="platform/hardware/qcom/sdm845/data/ipacfg-mgr" groups="vendor,qcom_sdm845" >
    <linkfile src="os_pickup.mk" dest="hardware/qcom/sdm845/Android.mk" />
    <linkfile src="os_pickup.bp" dest="hardware/qcom/sdm845/Android.bp" />
  </project>
  <project path="hardware/qcom/sdm845/display" name="platform/hardware/qcom/sdm845/display" groups="qcom_sdm845" />
  <project path="hardware/qcom/sdm845/gps" name="platform/hardware/qcom/sdm845/gps" groups="qcom_sdm845" />
  <project path="hardware/qcom/sdm845/media" name="platform/hardware/qcom/sdm845/media" groups="qcom_sdm845" />
  <project path="hardware/qcom/sdm845/thermal" name="platform/hardware/qcom/sdm845/thermal" groups="generic_fs,qcom_sdm845" />
  <project path="hardware/qcom/sdm845/vr" name="platform/hardware/qcom/sdm845/vr" groups="generic_fs,qcom_sdm845" />

  <!-- onyx staff supported by lemon -->
  <remove-project name="platform/external/selinux" />
  <remove-project name="platform/frameworks/av" />
  <remove-project name="platform/frameworks/native" /> 
  <remove-project name="platform/hardware/qcom/media" />
  <remove-project name="platform/system/bt" /> 
  <remove-project name="platform/hardware/libhardware" />
  <remove-project name="platform/art" />
  <remove-project name="platform/external/tinycompress" /> 
  <remove-project name="platform/hardware/libhardware_legacy" />
  <remove-project name="platform/platform/bionic"  />
                  
  <project path="external/selinux" name="external_selinux" groups="pdk" remote="lemon" />
  <project path="frameworks/av" name="frameworks_av" groups="pdk" remote="lemon" />
  <project path="frameworks/native" name="frameworks_native" groups="pdk" remote="lemon" />
  <project path="hardware/qcom/display" name="hardware_qcom_display" groups="pdk-qcom,qcom,qcom_display" remote="lemon" />
  <project path="hardware/qcom/media" name="hardware_qcom_media" groups="qcom,pdk-qcom" remote="lemon" />
  <project path="system/bt" name="system_bt" groups="pdk" remote="lemon" />
  <project path="hardware/libhardware" name="hardware_libhardware" groups="pdk" remote="lemon" />
  <project path="art" name="art" groups="pdk" remote="lemon" />
  <project path="external/tinycompress" name="external_tinycompress" groups="pdk" remote="lemon" />
  <project path="hardware/libhardware_legacy" name="hardware_libhardware_legacy" groups="pdk" remote="lemon" />
  <project path="bionic" name="bionic" groups="pdk" remote="lemon" />
  
  <project path="hardware/qcom/media" name="hardware_qcom_media" groups="qcom,pdk-qcom" remote="lemon" revision="aosp-10.0_caf-8974" />
  <project path="hardware/qcom/wlan" name="hardware_qcom_wlan" groups="qcom_wlan,pdk-qcom" remote="lemon" revision="aosp-10.0_caf" />  
  <project path="hardware/qcom/display" name="hardware_qcom_display" groups="pdk-qcom,qcom,qcom_display" remote="lemon" revision="aosp-10.0_caf-8974" />
  <project path="hardware/qcom/audio" name="hardware_qcom_audio" groups="qcom,qcom_audio,pdk-qcom" remote="lemon" revision="aosp-10.0_caf-8974" />
  <project path="hardware/qcom/bt" name="hardware_qcom_bt" groups="qcom,pdk-qcom" remote="lemon" revision="aosp-10.0_caf" />

  <project path="external/sony/boringssl-compat" name="external_sony_boringssl-compat" remote="lemon" />
  <project path="vendor/qcom/opensource/audio" name="vendor_qcom_opensource_audio" remote="lemon" />
  <project path="vendor/qcom/opensource/dataservices" name="vendor_qcom_opensource_dataservices" remote="lemon" />

  <project path="vendor/lemon" name="vendor_lemon" remote="reb2g" revision="aosp-10.0"/>
  <project path="kernel/oneplus/onyx" name="android_kernel_oneplus_onyx" remote="reb2g" revision="lineage-17.0" />
  <project path="device/oneplus/onyx" name="device_oneplus_onyx" remote="reb2g" revision="aosp-10.0" />
  <project path="vendor/oneplus" name="proprietary_vendor_oneplus" remote="reb2g" revision="lineage-17.0" />
  
  <repo-hooks in-project="platform/tools/repohooks" enabled-list="pre-upload" />
</manifest>
